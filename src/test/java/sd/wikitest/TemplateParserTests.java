package sd.wikitest;

import java.util.List;

import sd.wikitest.Utils.TemplateInfo;
import junit.framework.TestCase;

public class TemplateParserTests extends TestCase {

	public static void testTemplateParser(){
		String template = "some crap before {{other uses}}\n{{Taxobox\n| name = Aardwolf\n| fossil_range = [[Pleistocene]] - Recent\n| status = LC\n| status_system = IUCN3.1\n| status_ref = <ref name=\"IUCN\">{{IUCN2008|assessors=Anderson, M. & Mills, G.|year=2008|id=18372|title=Proteles cristatus|downloaded=22 March 2009}} Database entry includes a brief justification of why this species is of least concern</ref>\n| image = Aardwolf25.JPG\n| image_width = 300px\n| image_caption = Aardwolf\n| regnum = [[Animal]]ia\n| phylum = [[Chordate|Chordata]]\n| classis = [[Mammal]]ia\n| ordo = [[Carnivora]]\n| familia = [[Hyaenidae]]\n| subfamilia = \'\'\'Protelinae\'\'\'\n| subfamilia_authority = Flower, 1869\n| genus = \'\'\'\'\'Proteles\'\'\'\'\'\n| genus_authority = [[Isidore Geoffroy Saint-Hilaire|I. Geoffroy Saint-Hilaire]], 1824\n| species = \'\'\'\'\'P. cristata\'\'\'\'\'\n| binomial = \'\'Proteles cristata\'\'\n| binomial_authority = [[Anders Sparrman|Sparrman]], 1783\n| range_map = Aardwolf area.png\n| range_map_caption = Aardwolf range\n}}\n\nThe \'\'\'aardwolf\'\'\' (\'\'Proteles cristata\'\') is a small, [[insectivore|insectivorous]] [[mammal]], native to [[East Africa]] and [[Southern Africa]]. Its name means \"earth wolf\" in the [[Afrikaans]] / [[Dutch language]].<ref name=\"enc_bri\">{{cite encyclopedia|title= Aardwolf (Proteles cristatus)|encyclopedia= [[Encyclop\u00e6dia Britannica]]|publisher= Encyclop\u00e6dia Britannica Online|year= 2007}}</ref> It is also called \"maanhaar jackal\".<ref name=\"OED\">[http://dictionary.oed.com/cgi/entry/00298717 \'\'maanhaar\'\'] in the \'\'Oxford English Dictionary\'\'</ref> The aardwolf is in the same family as the [[hyena]]s. Unlike its relatives, the [[carnivores]], the aardwolf does not hunt large [[animal]]s, or even eat meat on a regular basis; instead it eats [[insect]]s, mainly [[termite]]s - one aardwolf can eat about 200,000 termites during a single night by using its long, sticky [[tongue]] to capture them.\n\nThe aardwolf is the only surviving species in the mammalian [[subfamily]] \'\'\'Protelinae\'\'\'. There are two [[subspecies]]: \'\'Proteles cristatus cristatus\'\' of [[Southern Africa]] and \'\'Proteles cristatus septentrionalis\'\' of [[East Africa]].<ref name=\"eb\">[http://search.eb.com/eb/article-9003205 \"aardwolf.\"] \'\'[[Encyclop\u00e6dia Britannica]]\'\'. 8 Jan. 2007</ref><ref>[http://www4.ncsu.edu/~jkim2/MolEvo/Spring2006/hyaenidae.pdf Molecular systematics of the Hyaenidae]</ref>\n\nThe aardwolf is usually classified with the [[Hyaenidae]], though it was formerly placed into the family \'\'\'Protelidae\'\'\'. The aardwolf lives in the scrublands of eastern and southern Africa - these are open lands covered with stunted trees and shrubs. Aardwolves usually hide in [[burrow]]s during the day, and then they come out at night to seek food. Their diet nearly always consists of termites, insect [[larva]]e, and the [[carrion]] of larger animals.<ref name=\"wff\">{{cite book| last = | first = | coauthors = | title = Wildlife Fact File| publisher=IMP Publishing Ltd| year =1994| pages = Group 1, Card 144| nopp = true }}</ref>\n\n==Physical characteristics==\n[[Image:Aardwolf02.jpg|thumb|left|Detail of head - taken at the [[Cincinnati Zoo]]. Note the ability to rotate the ears.]]\nThe aardwolf resembles a very thin [[striped hyena]], but with a more slender [[snout|muzzle]], sharper [[ear]]s, black vertical stripes on a coat of yellowish fur, and a long, distinct [[:wikt:mane|mane]] down the midline of the neck and back. The mane is raised during confrontations in order to make the aardwolves appear larger. The aardwolf is about {{convert|55|to|80|cm|in}} long, excluding its bushy tail, which is about {{convert|20|-|30|cm|in}} long,<ref name=EB>{{cite encyclopedia|last= |first= |authorlink= |editor-first= |editor-last= |editor-link= |encyclopedia=Encyclopedia Britannica|title=aardwolf|edition=15th|year=2010|publisher=Encyclopedia Britannica, Inc.|volume=I: A-Ak - Bayes|location= Chicago, IL|isbn=978-1-59339-837-8|pages=4}}</ref> and stands about {{convert|40|to|50|cm|in}} tall at the shoulders.<ref name=\"Colliers\">{{cite encyclopedia|last1=Goodwin|first1=George G.|editor-first=Bernard|editor-last=Johnston|encyclopedia=Collier\'s Encyclopedia |title=Aardwolf|edition=First |year=1997|publisher=P.F. Collier|volume=I A to Ameland|location=New York, NY|pages=3}}</ref> An adult aardwolf weighs around {{convert|9|-|14|kg|lb}}.<ref name=\"wff\"/> The front feet have five toes each, unlike the four-toed hyena.<ref name=\"eb\"/> The teeth and skull are similar to those of the hyena, though smaller,<ref name=Colliers/> and its cheek teeth are specialised for eating insects.<ref name=\"eb\"/>\n\nAs the aardwolf ages, it will normally lose some of its teeth, though this has little impact on their feeding habits due to the softness of the insects that they eat.<ref name=\"wff\" /> The aardwolf has two anal glands that secrete a musky fluid for marking territory and for communicating with other aardwolves.\n[[Image:Aardwolf Skull.JPG|thumb|left|Aardwolf [[skull]]]]\n\n==Distribution and habitat==\nAardwolves live in open, dry plains and [[bushland]], avoiding mountainous areas. Due to specific food requirements, they are only found in regions where termites of the family [[Hodotermitidae]] occur. Termites of this family depend on dead and withered grass and are most populous in heavily grazed [[grassland]]s and [[savannah]]s, including [[arable land|farmland]]. For most of the year, aardwolves spend time in shared territories consisting of up to a dozen dens, which are occupied for six weeks at a time.<ref name=\"wff\" />\n\nThere are two distinct populations: one in Southern Africa, and another in East and Northeast Africa. The species does not occur in the intermediary [[miombo]] forests.\n\n==Behavior==\n[[Image:Aardwolf.jpg|thumb|left|Aardwolf at the [[San Antonio Zoo and Aquarium|San Antonio Zoo]]]]\n[[File:Baby Aardwolf Hyena.jpg|thumb|right|Aardwolf cubs]]\nAardwolves are shy and [[nocturnal animal|nocturnal]], sleeping in underground burrows by day.<ref name=\"eb\"/> They usually use existing burrows of [[aardvark]]s, [[Old World porcupine|porcupine]]s or [[springhare]]s, despite being capable of creating their own. \n\nThey have often been mistaken for solitary animals. In fact, they live as monogamous pairs with their young, defending the same territory.<ref name=\"koel\">{{cite journal |last=Koehler |first=C. |last2=Richardson |first2=P. |year=1990 |title=Proteles cristatus |journal=[[Mammalian Species]] |volume=363 |issue= |pages=1\u20136 |jstor=3504197 }}</ref> Young aardwolves generally achieve [[sexual maturity]] at two years of age. \n\nAardwolfs are not fast runners nor are they particularly adept at fighting off predators. Therefore, when threatened, the aardwolf will attempt to mislead its foe by doubling back on its tracks. If confronted it will raise its mane in an attempt to appear more menacing. It will also emit a foul-smelling concoction from its anal glands.<ref name=Colliers/>\n\n===Feeding===\nThe aardwolf feeds primarily on termites and more specifically on [[Trinervitermes trinervoides]].<ref name=EB/> By night, an aardwolf can consume up to 200,000 [[termites]] using its sticky, long tongue.<ref name=\"wff\" /> They take special care not to destroy the termite mound or consume the entire colony, which ensures that the termites can rebuild and provide a continuous supply of food. They will often memorise the location of such nests and return to them to save the trouble of finding a new one. They are also known to feed on other insects, larvae, and eggs, and occasionally small [[mammals]] and [[birds]]. Unlike other [[hyena]]s, aardwolves do not scavenge or kill larger animals.The adult aardwolf was formerly assumed to forage in small groups,<ref name=Colliers/> however more recent research has shown that they are primarily solitary foragers,<ref name=koel/> necessary because of the scarcity and homogeneous distribution of their insect prey.\n\n===Breeding===\nThe [[breeding season]] varies depending on their location, but normally takes place during autumn or spring. During the breeding season, unpaired male aardwolves will search their own territory, as well as others\', for a female to mate with. Dominant males will also mate opportunistically with the females of less dominant neighboring aardwolves. This can often result in conflict between two male aardwolves when one has wandered into another\'s territory. [[Gestation]] lasts between 90 and 110 days, producing one to five [[List of animal names|cubs]] (most often two or three) during the rainy season (Nov-Dec),<ref name=Colliers/> when termites are active.<ref name=\"eb\"/> The first six to eight weeks are spent in the [[Burrow|den]] with the mother. After three months, they begin supervised foraging and by four months are normally independent, though they will often share a den with their mother until the next breeding season. They can achieve a [[life expectancy|lifespan]] of up to 15 years when in [[captivity (animal)|captivity]].<ref name=\"SkinnerChimimba2005\">{{cite book| author = J. D. Skinner| coauthors = Christian T. Chimimba| title = The Mammals of the Southern African Sub-region| url = http://books.google.com/?id=iqwEYkTDZf4C| accessdate = 15 March 2013| date = 15 November 2005| publisher = Cambridge University Press| isbn = 978-0-521-84418-5 }}</ref>\n\n==Conservation==\n\nThe aardwolf has not seen decreasing numbers and they are relatively widespread throughout eastern Africa. They are not common throughout their range, as they maintain a density of no more than 1 per square kilometer, if the food is good. Because of these factors, the IUCN has rated the aardwolf as [[least concern]].<ref name=\"IUCN\">{{IUCN | id =18372| taxon =Proteles cristata | assessors =Anderson, H & Mills, G.| assessment_year =2008 | version =3.1 | accessdate =04/06/2013 }}</ref>\n\n==Interaction with humans==\n[[Agriculture]] may create a negative impact on their population due to use of poisons by farmers.<ref name=\"IUCN\"/> They are often considered useful, non-dangerous animals by farmers. However, in some areas the aardwolf is hunted for its fur. Encounters with [[dog]]s are another threat.\n<!-- Commented out: [[Image:Aardwolf (Harvard University).JPG|thumb|\'\'Proteles cristatus\'\']] -->\n[[Image:Aardwolf.png|thumb|Illustration of \'\'Proteles cristatus\'\']]\n\n==References==\n{{Reflist}}\n\n==External links==\n{{Commons|Proteles cristatus}}\n{{Wikispecies|Proteles cristatus}}\n* [http://animaldiversity.ummz.umich.edu/site/accounts/information/Proteles_cristatus.html Animal Diversity Web]\n* [http://www.hyaenidae.org/the-hyaenidae/aardwolf-proteles-cristatus.html IUCN Hyaenidae Specialist Group Aardwolf pages on hyaenidae.org]\n* {{Wikisource-inline|list=\n** {{Cite EB1911|wstitle=Aard-wolf |short=x |noicon=x}}\n** {{Cite Collier\'s|Aard-wolf|noicon=x}}\n}}\n\n{{Carnivora|F.}}\n{{Use dmy dates|date=January 2012}}\n\n[[Category:Hyenas]]\n[[Category:Mammals of Africa]]\n[[Category:Mammals of Kenya]]\n[[Category:Myrmecophagous mammals]]\n[[Category:Monotypic mammal genera]]\n[[Category:Carnivorans of Africa]]\n[[Category:Animals described in 1783]]\n\n{{Link FA|de}}\n some crap after";
		
		List<TemplateInfo> templates = Utils.findTemplates( template, "Taxobox" ); 
		assertTrue( templates.size() == 1 );
		
		TemplateInfo info = templates.get( 0 );  
		assertEquals( info.name, "Taxobox" ); 
		assertEquals( info.namedParams.get( "name" ), "Aardwolf" ); 
	}
}
